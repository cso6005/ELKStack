# 1. query line search
- URL search
- 한 줄 쿼리
- curl 명령어들을 사용할 때 url 안에 모든 것을 다 집어넣으면 편할 것이다.
- 모든 종류의 쿼리가 가능
- 실무에선 아래 문제로 잘 사용되지 않음.

### 명령어
- ?q= 
  - 뒤에 뒤따라오는 검색어를 검색하겠다는 뜻

- ex. 2010 년도 이후에 출시되고, 제목에 trek 이 포함된 모든 영화
~~~
/movies/_search?q=+year:>2010+title:trek
~~~

~~~
/movies/_search?q=%2Byear%3A%3E2010%2Btitle%3Atrek
~~~

### 문제
1. 인코딩 문제
- es 내 프롬프트에서 직접 curl 명령하면 인코딩 안해도 작동하겠지만, 브라우저에 입력하면 인코딩을 해야 하고, 사용하는 인터페이스에 따라 url 을 더 인코딩 해야 할 수 도 있다.
- 해당 쿼리의 문제는 바로 url 을 전송할 때마다 url 을 인코딩 한다는 것이다.
- 위 예시 처럼, 특수무자는 16진수로 인코딩하거나 또는 제외시키거나 해야 한다.
- 이렇게 url 사용은 빠르게 명령할 수 있다는 장점이 있지만, 인코딩을 해야 하기에, 더욱 가독성을 떨어뜨릴 것이다.

2. 복잡성과 debug의 어려움
- 가독성이 좋지 않고, 오타 등으로 변수가 생기기 쉽고 변질 되기 쉽다.
  
3. 보안 문제
- 모든 사용자가 url 에 검색 쿼리 문자열을 쉽게 쓸 수 있다면, 이로 인해 클러스터가 다운 될 수도 있다. 

:arrow_right: 안정적인 json 요청이 더 낫다. 한 눈에 더 볼 수 있고, 더 체계적인 방법이다.





