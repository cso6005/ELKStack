
서비스를 구축하고 해당 서비스에 대한 API 접근을 제공하기 위해

엔드포인트를 노출할 때 

들의 가용성과 응답 시간을 추적해야 한다.

기능을 보장하는 것 외에도 실제로 무언각가 다운되었거나

제대로 작동하지 않는지를 알기 위해서는 매일 꾸준히 서비스를 모니터링해야 한다.

이것이 Elastic Beat Family 의 Heartbeat 가 문제를 안화하는 데 도움을 주는 이유다.

## Heartbeat
- 서비스 사용성을 모니터링하는 데 도움을 준다.
- 모니터를 정의하여 호스트를 체크하고 모니터가 활성 상태인지 확인하는 방식으로 작동한다.

## Heartbeat Monitors
- 고려해야 할 주요 모니터 유형은 세 가지이다.
- 각각은 모니터에 사용되는 기본 프로토콜을 나타낸다.
- 이러한 프로토콜 각각은 다른 네트워크 레벨에서 작동하며 각각 확인할 수 있는 옵션도 다르다.

### 1. ICMP
- 때때로 ping 이라고도 불리며 세 가지 중 가장 낮은 수준의 프로토콜로 원시 IP 패킷의 에코 요청을 최종 호스트 IP 주소로 발송하여 작동한다.
- 주로 표준화된 OSI 모델의 3계층 네트워크에서 작동한다.
- 성공하면 기본적으로 contact 하고 있는 네트워크 장치가 전원이 켜져 있고 작동 중이라는 것을 알 수 있다. 그 외의 정보는 많진 않다.

### 2. TCP
- TCP 를 사용하면 모니터링 요청을 호스트뿐만 아니라 특정 서비스로도 보내기 위해 접근 가능한 포트를 정의하여 보낸다.
- OSI 5계층 전송에서 작동하며 대부분의 인터넷 트래픽을 지원한다.
- 이 모니터는 호스트 포트 엔드포인트에서 암호화되지 않거나 암호화된 TCP 연결을 생성하여 작동하며, 소켓에서 무언가가 수신 대기 중이면 검사가 성공한 것으로 간주한다.

### 3. HTTP
- HTTP 모니터는 세 가지 중 가장 높은 수준의 프로토콜을 사용하며 OSI 7계층 응용에서 작동한다.
- 이는 요청-응답 통신 모델을 기반으로 한다.
- 기본적으로 모니터는 HTTP 연결을 할 수 있는지를 검증한다. 요청 후 상태 코드로 성공을 확인할 수 있다.
- 또한, 모니터링 로직을 정의할 수 있는 다양한 옵션을 제공한다.
	- 예를 들어 특정 값을 위해 JSON 반환를 검사하는 것과 같은 작업을 할 수 있다.

